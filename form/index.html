<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="utf-8" />
  <title>File Form</title>
  <script>
    function convertToBase64() {
      const fileInput = document.querySelector('input[type=file]');
      const file = fileInput.files[0];
      const preview = document.querySelector('img');
      const reader = new FileReader();

      reader.addEventListener('load', e => {
        const base64Data = reader.result;
        preview.src = base64Data;
        google.script.run.blob_savedrive(base64Data);
      });
    if (file) {
      reader.readAsDataURL(file);
    }
}
  </script>
</head>

<body>
  <div>
    <input type='file' accept="image/png,image/jpeg">
    <img src='' />
  </div>
  <input type='button' value='送信!!' onclick='convertToBase64()'/>
</body>


</html>
